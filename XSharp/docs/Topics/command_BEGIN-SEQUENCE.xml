<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" lasteditedby="robert" version="2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title>BEGIN SEQUENCE</title>
  <keywords>
    <keyword>BEGIN</keyword>
    <keyword>BEGIN SEQUENCE</keyword>
    <keyword>END</keyword>
    <keyword>END SEQUENCE</keyword>
    <keyword>FINALLY</keyword>
    <keyword>RECOVER</keyword>
    <keyword>SEQUENCE</keyword>
    <keyword>USING</keyword>
  </keywords>
  <body>
    <header>
      <para styleclass="Heading1">BEGIN SEQUENCE</para>
    </header>
    <para styleclass="Body Text">The <text style="font-weight:bold;">BEGIN SEQUENCE</text> keyword declares the beginning of an exception handling block.</para>
    <para styleclass="Heading2">Syntax</para>
    <para styleclass="Code Example">BEGIN SEQUENCE<br/>   tryStatements<br/>[RECOVER [USING localVariable]<br/>   recoveryStatements<br/>]<br/>[FINALLY<br/>   finallyStatements<br/>]<br/>END [SEQUENCE]</para>
    <para styleclass="Body Text">where:</para>
    <para styleclass="List"><text style="font-style:italic;">tryStatements</text> <tab/>One or more statements or expressions that may cause an exception to be thrown. </para>
    <para styleclass="List"><text style="font-style:italic;">localVariable</text> <tab/>A local variable that will receive the exception thrown by any code between the BEGIN SEQUENCE and RECOVER statements. This must be a variable typed as USUAL. </para>
    <para styleclass="List"><text style="font-style:italic;">recoveryStatements</text><tab/>One or more statements or expressions that will execute if an exception is thrown by any of the tryStatements. </para>
    <para styleclass="List"><text style="font-style:italic;">finallyStatements</text> <tab/>One or more statements or expressions that will always execute regardless of whether an exception is thrown or not. </para>
    <para styleclass="List"></para>
    <para styleclass="Heading2">Remarks</para>
    <para styleclass style="text-align:left; text-indent:0px; margin-top:7px; margin-right:0px; margin-bottom:7px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">BEGIN SEQUENCE ... END SEQUENCE</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> is a control structure used for exception and runtime error handling. It delimits a block of statements defining a discrete operation, including invoked procedures and functions.</text></para>
    <para styleclass style="text-align:left; text-indent:0px; margin-top:7px; margin-right:0px; margin-bottom:7px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">When an exception is thrown anywhere anywhere in the block of statements following the </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">BEGIN SEQUENCE</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement up to the corresponding </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">RECOVER</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement, control branches to the program statement immediately following the </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">RECOVER</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement. If a </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">RECOVER</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement is not specified, control branches to the statement following the </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">FINALLY</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement, terminating the sequence. If a </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">FINALLY</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement is not specified, control branches to the statement following the </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">END SEQUENCE</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement, terminating the sequence.</text></para>
    <para styleclass style="text-align:left; text-indent:0px; margin-top:7px; margin-right:0px; margin-bottom:7px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">If control reaches a </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">RECOVER</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement without an exception being thrown, control branches to the statement following the </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">FINALLY</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement. If a </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">FINALLY</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement is not specified, control branches to the statement following the </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">END SEQUENCE</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement, terminating the sequence.</text></para>
    <para styleclass style="text-align:left; text-indent:0px; margin-top:7px; margin-right:0px; margin-bottom:7px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">The </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">RECOVER</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement optionally receives an exception thrown by a statement in the </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-style:italic; color:#000000;">tryStatements</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> block. This is usually an error object, generated and returned by the current error handling block defined by ErrorBlock(). If an error object is returned, it can be sent messages to query information about the error. With this information, a runtime error can be handled within the context of the operation rather than in the current runtime error handler.</text></para>
    <para styleclass style="text-align:left; text-indent:0px; margin-top:7px; margin-right:0px; margin-bottom:7px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">The </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">FINALLY</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement block is useful for cleaning up any resources allocated in the </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">BEGIN SEQUENCE</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> block. Control is always passed to the </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">FINALLY</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> block (if present) regardless of how the </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">BEGIN SEQUENCE</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> block exits.</text></para>
    <para styleclass style="text-align:left; text-indent:0px; margin-top:7px; margin-right:0px; margin-bottom:7px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">You cannot </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">RETURN</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">, </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">LOOP</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">, or </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">EXIT</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> between a </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">BEGIN SEQUENCE</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> and </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">RECOVER</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement. From within the </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">RECOVER</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> and </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">FINALLY</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement blocks however, you can </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">LOOP</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">, </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">EXIT</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">, </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">BREAK</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">, or </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">RETURN</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> since the sequence is essentially completed at that point. Using </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">LOOP</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> from within the </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">RECOVER</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> statement block is useful for re-executing the sequence statement block.</text></para>
    <para styleclass style="text-align:left; text-indent:0px; margin-top:7px; margin-right:0px; margin-bottom:7px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">BEGIN SEQUENCE</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> ... </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">END SEQUENCE</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> control structures can be nested to any depth.</text></para>
    <para styleclass style="text-align:left; text-indent:0px; margin-top:7px; margin-right:0px; margin-bottom:7px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">The </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">CanBreak()</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> function returns </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">TRUE</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> if execution is within any </text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; font-weight:bold; color:#000000;">BEGIN SEQUENCE</text><text styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;"> block.</text></para>
    <para styleclass="Heading2">Example</para>
    <para styleclass="Normal"></para>
    <para styleclass="Code Example"><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">FUNCTION</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> Start() </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">AS</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">VOID</text><br/><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">LOCAL</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> x := 4, y := 0 </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">AS</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">INT</text><br/><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">BEGIN</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">SEQUENCE</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;">? x / y</text><br/><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">RECOVER</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;">? &quot;oops&quot;</text><br/><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">FINALLY</text><br/><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;">? &quot;in finally block&quot;</text><br/><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">END</text><text style="font-weight:normal; font-style:normal; text-decoration:none; color:#000000;"> </text><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">SEQUENCE</text><br/><text style="font-weight:bold; font-style:normal; text-decoration:none; color:#ff0000;">RETURN</text></para>
    <para styleclass="Normal"></para>
    <para styleclass="Heading2">See Also</para>
    <para styleclass style="text-align:left; text-indent:0px; margin-top:7px; margin-right:0px; margin-bottom:7px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"><link displaytype="text" defaultstyle="true" type="topiclink" href="command_BREAK" styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#0000ff;">BREAK</link><br/><link displaytype="text" defaultstyle="true" type="topiclink" href="command_THROW" styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#0000ff;">THROW</link><br/><link displaytype="text" defaultstyle="true" type="topiclink" href="command_TRY_CATCH" styleclass style="font-family:'Times New Roman'; font-size:12pt; color:#000000;">TRY-CATCH-FINALLY </link></para>
    <para styleclass style="text-align:left; text-indent:0px; margin-top:0px; margin-right:0px; margin-bottom:0px; margin-left:0px; line-height:1.00; background-color:transparent; white-space:normal; page-break-inside:auto; page-break-after:auto; border:none; tabstops:none;"></para>
  </body>
</topic>
